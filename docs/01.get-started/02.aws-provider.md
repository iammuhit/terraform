---
title: AWS Infrastructure
link: https://developer.hashicorp.com/terraform/tutorials/aws-get-started
---

## Terrafrom with Amazon Web Services

### Prerequisites

- [Terraform CLI](https://developer.hashicorp.com/terraform/install)
- [AWS CLI](https://docs.aws.amazon.com/cli)
- [AWS Account](https://aws.amazon.com/free)
- [Associated Credentials](https://docs.aws.amazon.com/iam)

### Create, Manage, and Destroy Infrastructure

- [AWS Terraform Provider](https://registry.terraform.io/providers/hashicorp/aws/latest/docs)
- [AWS VPC Terraform Module](https://registry.terraform.io/modules/terraform-aws-modules/vpc/aws/latest)

```bash
terraform fmt             # Reformat Configuration Files
terraform init            # Initialize Terraform Workspace
terraform validate        # Validate Configuration

terraform plan            # Preview Intrastructure Changes
terraform apply           # Create Infrastructure

terraform state list      # List Terraform Resources & Data Sources
terraform show            # Show Workspace's Entire State
terraform output          # Review Output Values

terraform plan -destroy   # Create Speculative Destroy Plan
terraform apply -destroy  # Cleanup Infrastructure
```

### Create Localstack AMIs

```bash
## 
# Register Localstack Image (AMI)
# 
# @see: https://docs.localstack.cloud/aws/services/ec2/
# @see: https://docs.aws.amazon.com/cli/latest/reference/ec2/register-image.html
# 
# docker pull ubuntu:noble
# docker tag ubuntu:noble localstack-ec2/ubuntu-noble-ami:ami-000001
# 
awslocal ec2 register-image \
  --name ubuntu/images/hvm-ssd-gp3/ubuntu-noble-24.04-amd64-server-20251013 \
  --architecture x86_64 \
  --root-device-name /dev/sda1 \
  --block-device-mappings "Ebs={DeleteOnTermination=false,VolumeSize=8,VolumeType=standard},DeviceName=/dev/sda1" \
  --tag-specifications "ResourceType=image,Tags=[{Key=ec2_vm_manager,Value=docker}]"

## 
# Describe Images (AMIs)
# 
# @see: https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-images.html
# 
awslocal ec2 describe-images \
  --filters "Name=name,Values=ubuntu/images/hvm-ssd-gp3/ubuntu-noble-24.04-amd64-server-*"

## 
# Create Tags for EC2 Resource
# 
# @see: https://docs.aws.amazon.com/cli/latest/reference/ec2/create-tags.html
# 
awslocal ec2 create-tags \
  --resources <image-ids> \
  --tags "Key=ec2_vm_manager,Value=docker"

awslocal ec2 describe-images \
  --filters "Name=tag:ec2_vm_manager,Values=docker"

## 
# Deregister Localstack Image (AMI)
# 
# @see: https://docs.aws.amazon.com/cli/latest/reference/ec2/deregister-image.html
# 
awslocal ec2 deregister-image --image-id <image-id>
```